.. _nearblack:

================================================================================
nearblack
================================================================================

.. only:: html

    검은색/하얀색에 가까운 경계를 검은색으로 변환합니다.

.. Index:: nearblack

개요
--------

.. code-block::

    nearblack [-of format] [-white | [-color c1,c2,c3...cn]*] [-near dist] [-nb non_black_pixels]
              [-setalpha] [-setmask] [-o outfile] [-q]  [-co "NAME=VALUE"]* infile

설명
-----------

이 유틸리티는 이미지를 스캔해서, 가장자리 주변의 검은색, 하얀색, 또는 하나 이상의 사용자 지정 색상에 근사하거나 일치하는 모든 픽셀을 검은색 또는 하얀색으로 설정하려 합니다. 이 유틸리티는 손실 압축 항공사진을 "고쳐서" 모자이크 작업 시 색상 픽셀을 투명하게 취급할 수 있도록 하는 데 자주 사용됩니다. 알파 밴드 또는 마스크 밴드를 설정하지 않은 경우 산출 포맷은 비손실 압축을 사용해야만 합니다.

.. program:: nearblack

.. option:: -o <outfile>

    생성할 산출물 파일의 이름입니다.

.. option:: -of <format>

    산출 포맷을 선택합니다. GDAL 2.3버전부터, 지정하지 않는 경우 확장자로부터 포맷을 추정합니다. (이전 버전까지는 ERDAS Imagine .img 포맷을 사용했습니다.) 단축 포맷명을 사용하십시오. (예: GeoTIFF의 경우 GTiff)

.. option:: -co `"NAME=VALUE"`

    산출 포맷 드라이버에 생성 옵션을 전송(pass)합니다. :option:`-co` 옵션 여러 개를 목록화할 수도 있습니다. 각 포맷을 위한 정당한 생성 옵션을 알고 싶다면 :ref:`raster_drivers` 포맷 사양 문서를 읽어보십시오.

    새 파일을 생성하는 경우에만 효과가 있습니다.

.. option:: -white

    근사 검은색 픽셀 대신 근사 하얀색(255) 픽셀을 검색합니다.

.. option:: -color <c1,c2,c3...cn>

    지정한 색상에 근사한 픽셀을 검색합니다. 색상을 여러 개 지정할 수도 있습니다. -color 옵션을 지정한 경우, 가장자리로 간주되는 픽셀을 0으로 설정합니다.

.. option:: -near <dist>

    픽셀값이 검은색, 하얀색 또는 사용자 지정 색상으로 간주되려면 검은색, 하얀색 또는 사용자 지정 색상과 얼마나 다를 수 있는지를 선택합니다. 기본값은 15입니다.

.. option:: -nb <non_black_pixels>

    검은색이 아닌 픽셀을 이만큼 마주치면 안쪽 방향 검색을 멈추는 픽셀 개수입니다. 기본값은 2입니다.

.. option:: -setalpha

    입력 파일이 밴드 3개를 가지고 있고 산출 파일을 지정한 경우 알파 밴드를 추가합니다. 또는 입력 파일이 밴드 4개를 가지고 있고 산출 파일을 지정한 경우 산출 파일의 알파 밴드를 설정합니다. 또는 입력 파일이 밴드 4개를 가지고 있고 산출 파일을 지정하지 않은 경우 입력 파일의 알파 밴드를 설정합니다. 이 알파 밴드는 이미지 가장자리에서 0으로, 그 외 모든 영역에서 255로 설정됩니다.

.. option:: -setmask

    산출 파일에 마스크 밴드를 추가합니다. 또는 입력 파일이 마스크 밴드를 가지고 있지 않고 산출 파일을 지정하지 않은 경우 입력 파일에 마스크 밴드를 추가합니다. 이 마스크 밴드는 이미지 가장자리에서 0으로, 그 외 모든 영역에서 255로 설정됩니다.

.. option:: -q

    진행 상황 모니터 및 기타 오류가 아닌 결과를 표시하지 않습니다.

.. option:: <infile>

    입력 파일입니다. GDAL이 지원하는, 일반적으로 밴드 개수에 제한이 없고 8비트 바이트 밴드를 가진 모든 포맷을 입력할 수 있습니다.

이 알고리즘은 한번에 한 라인씩 이미지를 스캔합니다. "dist" 회색조 수준을 초과할 만큼 검은색, 하얀색 또는 사용자 지정 색상과 다른 픽셀을 최소한 "non_black_pixels" 개수만큼 마주쳤을 때 양쪽 끝에서 픽셀을 검은색 또는 하얀색으로 설정하는 "안쪽 방향" 스캔이 종료됩니다. 근사 검은색, 하얀색 또는 사용자 지정 색상 픽셀을 검은색 또는 하얀색으로 설정합니다. 이 알고리즘은 이미지 최상단과 최하단에 깎인 자국(indentation)이 있는지 식별하기 위해 최상단에서 최하단으로, 최하단에서 최상단으로 스캔하기도 합니다.

모든 처리 과정은 8비트(바이트) 단위로 수행됩니다.

산출물 파일이 누락된 경우, 처리 결과를 입력 파일에 다시 작성할 것입니다 - 따라서 입력 파일은 업데이트를 지원해야만 합니다.

C API
-----

C에서 :cpp:func:`GDALNearblack` 으로 이 유틸리티를 호출할 수 있습니다.

.. versionadded:: 2.1

